<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script type="text/javascript">
var issueLabel = decodeURI(location.pathname);
var gitalk = new Gitalk({
  clientID: '{{ site.github_oauth_clientID }}',
  clientSecret: '{{ site.github_oauth_clientSecret }}',
  repo: '{{ site.repo }}',
  owner: '{{ site.repo_owner }}',
  admin: ['{{ site.repo_admin }}'],
  id: issueLabel.length > 50 ? issueLabel.substring(0,50) : issueLabel,//Ensure uniqueness and length less than 50
  labels: ['{{ site.comment_issue_label }}'],
  title: document.title,//GitHub issue title
  body: decodeURI(location.href) + '\n\n' + document.getElementsByTagName('meta')['description'].content,//GitHub issue content
  perPage: 10,
  pagerDirection: 'last',//sort by create time,'first'
  createIssueManually: true,//admin need click [init] button
  enableHotKey: true,//(cmd|ctrl + enter) to comment
  distractionFreeMode: true //Facebook-like distraction free mode
})

gitalk.render('gitalk-container');
</script>